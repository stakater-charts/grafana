apiVersion: v1
kind: Service
metadata:
  name: {{ template "name" . }}
  labels:
    expose: {{ .Values.grafana.service.expose | quote }}
{{ include "labels.stakater" . | indent 4 }}
{{ include "labels.chart" . | indent 4 }}
  annotations:
    fabric8.io/ingress.path: /{{ template "name" . }}
    fabric8.io/ingress.annotations: |-
{{ .Values.grafana.service.annotations | indent 6 }}
spec:
  ports:
  - port: {{ .Values.grafana.service.spec.ports.port }}
    protocol: {{ .Values.grafana.service.spec.ports.protocol }}
    targetPort: {{ .Values.grafana.service.spec.ports.targetPort }}
  selector:
{{ include "labels.selector" . | indent 4 }}
